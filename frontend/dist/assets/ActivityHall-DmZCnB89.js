import{c as z,_ as B,r,q as j,a as v,o as c,d as a,b as s,h as i,u as d,y as S,R as P,M as V,e as l,t as o,V as q,z as D,T as L,F as w,A as N,P as T,B as U,I as E,i as _,C as F,x as $,f as H,D as O,E as R,p as Z,k as G}from"./index-DfE0a-Gg.js";import{U as J}from"./users-B9IHG03m.js";/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=z("CalendarIcon",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=z("MapPinIcon",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),W={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},X={class:"flex items-center text-slate-600 gap-2"},Y={class:"text-sm"},tt={class:"flex items-center text-slate-600 gap-2"},st={class:"text-sm"},et={class:"flex items-center text-slate-600 gap-2"},at={class:"text-sm"},lt={class:"flex items-center gap-3 pt-2"},dt={key:0,class:"py-12 text-center text-slate-500"},ot={key:1,class:"py-12 text-center text-red-500"},nt={key:2,class:"mt-4 grid grid-cols-1 gap-3"},it={class:"text-sm text-slate-700"},ut={class:"text-sm text-slate-700"},rt={class:"text-sm text-slate-700"},ct={class:"text-sm text-slate-700"},vt={class:"text-sm text-slate-700"},mt={class:"text-sm text-slate-700"},ft={class:"text-sm text-slate-700"},pt={class:"text-sm text-slate-700"},xt={class:"text-sm text-slate-700"},_t={class:"text-sm text-slate-700"},gt={class:"mt-6 flex justify-end"},yt={__name:"ActivityHall",setup(ht){const g="http://localhost:8080",m=r([]),y=r(!1),f=r(!1),p=r(!1),h=r(null),n=r(null),x=r(!1),k=r(""),b=r(""),A=async()=>{y.value=!0;try{const u=await $.get(`${g}/api/dashboard/activities`);if(u.data&&u.data.code===200){const t=Array.isArray(u.data.data)?u.data.data:[];m.value=t.map(e=>({id:Number(e.id),hdmc:String(e.hdmc||""),bmsj:String(e.bmsj||""),hddd:String(e.hddd||""),zyrs:String(e.zyrs||"")}))}else m.value=[]}catch{m.value=[]}finally{y.value=!1}},C=async u=>{h.value=u,f.value=!0,p.value=!0,n.value=null;try{const t=await $.get(`${g}/api/dashboard/activities/${u}`);t.data&&t.data.code===200?n.value=t.data.data||null:n.value=null}catch{n.value=null}finally{p.value=!1}},M=u=>{k.value="报名成功",b.value=u.hdmc,x.value=!0};return j(A),(u,t)=>(c(),v(w,null,[a(d(L),null,{default:i(()=>[a(d(S),{class:"fixed top-4 right-4 z-50"}),a(d(P),{open:x.value,"onUpdate:open":t[0]||(t[0]=e=>x.value=e),class:"bg-white border border-slate-200 rounded-md shadow-lg p-4 pr-10"},{default:i(()=>[a(d(V),{class:"font-semibold text-slate-800"},{default:i(()=>[l(o(k.value),1)]),_:1}),a(d(q),{class:"text-slate-500 text-sm"},{default:i(()=>[l(o(b.value),1)]),_:1}),a(d(D),{class:"absolute right-2 top-2 text-slate-400"},{default:i(()=>[...t[3]||(t[3]=[l("×",-1)])]),_:1})]),_:1},8,["open"])]),_:1}),s("div",W,[(c(!0),v(w,null,N(m.value,e=>(c(),H(d(G),{key:e.id,class:"bg-white border-slate-100 shadow-sm"},{default:i(()=>[a(d(O),null,{default:i(()=>[a(d(R),{class:"text-slate-900"},{default:i(()=>[l(o(e.hdmc),1)]),_:2},1024)]),_:2},1024),a(d(Z),{class:"space-y-4"},{default:i(()=>[s("div",X,[a(d(K),{class:"w-4 h-4"}),s("span",Y,o(e.bmsj),1)]),s("div",tt,[a(d(Q),{class:"w-4 h-4"}),s("span",st,o(e.hddd),1)]),s("div",et,[a(d(J),{class:"w-4 h-4"}),s("span",at,o(e.zyrs),1)]),s("div",lt,[a(_,{variant:"default",onClick:I=>C(e.id)},{default:i(()=>[...t[4]||(t[4]=[l("查看详情",-1)])]),_:1},8,["onClick"]),a(_,{variant:"secondary",onClick:I=>M(e)},{default:i(()=>[...t[5]||(t[5]=[l("报名",-1)])]),_:1},8,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),a(d(F),{open:f.value,"onUpdate:open":t[2]||(t[2]=e=>f.value=e)},{default:i(()=>[a(d(T),{class:"fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-[92vw] max-w-2xl bg-white border border-slate-200 rounded-lg shadow-xl p-6 z-50"},{default:i(()=>[a(d(U),{class:"text-xl font-semibold text-slate-900"},{default:i(()=>[...t[6]||(t[6]=[l("活动详情",-1)])]),_:1}),a(d(E),{class:"text-slate-500 text-sm"},{default:i(()=>{var e;return[l("编号 "+o(((e=n.value)==null?void 0:e.id)??h.value),1)]}),_:1}),p.value?(c(),v("div",dt,"加载中...")):n.value?(c(),v("div",nt,[s("div",it,[t[7]||(t[7]=s("span",{class:"font-medium"},"活动名称：",-1)),l(o(n.value.hdmc),1)]),s("div",ut,[t[8]||(t[8]=s("span",{class:"font-medium"},"报名时间：",-1)),l(o(n.value.bmsj),1)]),s("div",rt,[t[9]||(t[9]=s("span",{class:"font-medium"},"活动时间：",-1)),l(o(n.value.hdsj),1)]),s("div",ct,[t[10]||(t[10]=s("span",{class:"font-medium"},"活动地点：",-1)),l(o(n.value.hddd),1)]),s("div",vt,[t[11]||(t[11]=s("span",{class:"font-medium"},"招募人数：",-1)),l(o(n.value.zyrs),1)]),s("div",mt,[t[12]||(t[12]=s("span",{class:"font-medium"},"活动内容：",-1)),l(o(n.value.hdnr),1)]),s("div",ft,[t[13]||(t[13]=s("span",{class:"font-medium"},"活动需求条件：",-1)),l(o(n.value.hdxq),1)]),s("div",pt,[t[14]||(t[14]=s("span",{class:"font-medium"},"活动保障：",-1)),l(o(n.value.hdbz),1)]),s("div",xt,[t[15]||(t[15]=s("span",{class:"font-medium"},"发起单位：",-1)),l(o(n.value.hdfqdw),1)]),s("div",_t,[t[16]||(t[16]=s("span",{class:"font-medium"},"状态：",-1)),l(o(n.value.hdzt),1)])])):(c(),v("div",ot,"未获取到详情")),s("div",gt,[a(_,{variant:"outline",onClick:t[1]||(t[1]=e=>f.value=!1)},{default:i(()=>[...t[17]||(t[17]=[l("关闭",-1)])]),_:1})])]),_:1})]),_:1},8,["open"])],64))}},wt=B(yt,[["__scopeId","data-v-10cd672f"]]);export{wt as default};
