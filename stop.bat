@echo off
echo ======================================================
echo          正在停止毕业设计项目...
echo ======================================================

:: 1. 停止后端 (查找占用 8080 端口的进程并杀掉)
echo [1/2] 正在停止后端 (端口 8080)...
for /f "tokens=5" %%a in ('netstat -aon ^| findstr :8080') do (
    taskkill /f /pid %%a >nul 2>&1
)

:: 2. 停止前端 (查找占用 5173 端口的进程并杀掉)
echo [2/2] 正在停止前端 (端口 5173)...
for /f "tokens=5" %%a in ('netstat -aon ^| findstr :5173') do (
    taskkill /f /pid %%a >nul 2>&1
)

echo.
echo ======================================================
echo                 项目已停止
echo ======================================================
pause