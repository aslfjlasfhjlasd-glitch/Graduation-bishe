import{c as u,_ as Z,r as c,q as N,a as h,o as p,d as e,b as s,h as i,u as a,y as T,R as U,M as E,e as d,t as o,V as F,z as R,T as G,F as C,A as J,$ as K,P as Q,B as W,I as X,i as g,C as Y,x as z,f as $,D as tt,g as st,E as et,p as at,k as lt}from"./index-Ztju6BaQ.js";import{U as A}from"./users-yHZWdFOR.js";/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=u("BookOpenIcon",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=u("Building2Icon",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y=u("CalendarIcon",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=u("HeartPulseIcon",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]);/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=u("InfoIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=u("LeafIcon",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=u("MapPinIcon",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=u("ShieldCheckIcon",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=u("SparklesIcon",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),it={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},rt={class:"flex items-center gap-3"},ct={class:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-gradient-to-tr from-blue-600 via-cyan-500 to-emerald-500 text-white shadow"},ut={class:"flex items-center text-slate-700 gap-2"},pt={class:"text-sm"},ht={class:"flex items-center text-slate-700 gap-2"},vt={class:"text-sm"},xt={class:"flex items-center text-slate-700 gap-2"},ft={class:"text-sm"},mt={class:"flex items-center gap-3 pt-2"},gt={class:"p-6 flex items-center gap-3"},yt={class:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-blue-600 text-white"},_t={key:0,class:"py-12 text-center text-slate-500"},bt={key:1,class:"py-12 text-center text-red-500"},kt={key:2,class:"mt-4 px-6 pb-6 grid grid-cols-1 gap-3"},wt={class:"flex items-start gap-2 bg-white/70 border border-slate-200 rounded-lg p-3"},Mt={class:"text-sm text-slate-700"},It={class:"flex items-start gap-2 bg-white/70 border border-slate-200 rounded-lg p-3"},Ct={class:"text-sm text-slate-700"},zt={class:"flex items-start gap-2 bg-white/70 border border-slate-200 rounded-lg p-3"},$t={class:"text-sm text-slate-700"},At={class:"flex items-start gap-2 bg-white/70 border border-slate-200 rounded-lg p-3"},Bt={class:"text-sm text-slate-700"},St={class:"flex items-start gap-2 bg-white/70 border border-slate-200 rounded-lg p-3"},Lt={class:"text-sm text-slate-700"},jt={class:"flex items-start gap-2 bg-white/70 border border-slate-200 rounded-lg p-3"},qt={class:"text-sm text-slate-700"},Ht={class:"flex items-start gap-2 bg-white/70 border border-slate-200 rounded-lg p-3"},Pt={class:"text-sm text-slate-700"},Vt={class:"flex items-start gap-2 bg-white/70 border border-slate-200 rounded-lg p-3"},Dt={class:"text-sm text-slate-700"},Ot={class:"flex items-start gap-2 bg-white/70 border border-slate-200 rounded-lg p-3"},Zt={class:"text-sm text-slate-700"},Nt={class:"flex items-start gap-2 bg-white/70 border border-slate-200 rounded-lg p-3"},Tt={class:"text-sm text-slate-700"},Ut={class:"px-6 pb-6 flex justify-end"},Et={__name:"ActivityHall",setup(Ft){const b="http://localhost:8080",q={Leaf:nt,BookOpen:B,HeartPulse:ot,Sparkles:_},H=r=>{const t=String(r||"");return/(环保|环境|垃圾|绿|生态)/.test(t)?"Leaf":/(教育|简历|咨询|大赛|毕业|迎新|开学|学院|课堂)/.test(t)?"BookOpen":/(医疗|献血|健康|体质|医|医院|心理)/.test(t)?"HeartPulse":"Sparkles"},v=c([]),k=c(!1),x=c(!1),f=c(!1),w=c(null),n=c(null),m=c(!1),M=c(""),I=c(""),P=async()=>{k.value=!0;try{const r=await z.get(`${b}/api/dashboard/activities`);if(r.data&&r.data.code===200){const t=Array.isArray(r.data.data)?r.data.data:[];v.value=t.map(l=>({id:Number(l.id),hdmc:String(l.hdmc||""),bmsj:String(l.bmsj||""),hddd:String(l.hddd||""),zyrs:String(l.zyrs||""),icon:H(l.hdmc)}))}else v.value=[]}catch{v.value=[]}finally{k.value=!1}},V=async r=>{w.value=r,x.value=!0,f.value=!0,n.value=null;try{const t=await z.get(`${b}/api/dashboard/activities/${r}`);t.data&&t.data.code===200?n.value=t.data.data||null:n.value=null}catch{n.value=null}finally{f.value=!1}},D=r=>{M.value="报名成功",I.value=r.hdmc,m.value=!0};return N(P),(r,t)=>(p(),h(C,null,[e(a(G),null,{default:i(()=>[e(a(T),{class:"fixed top-4 right-4 z-50"}),e(a(U),{open:m.value,"onUpdate:open":t[0]||(t[0]=l=>m.value=l),class:"bg-white border border-slate-200 rounded-md shadow-lg p-4 pr-10"},{default:i(()=>[e(a(E),{class:"font-semibold text-slate-800"},{default:i(()=>[d(o(M.value),1)]),_:1}),e(a(F),{class:"text-slate-500 text-sm"},{default:i(()=>[d(o(I.value),1)]),_:1}),e(a(R),{class:"absolute right-2 top-2 text-slate-400"},{default:i(()=>[...t[3]||(t[3]=[d("×",-1)])]),_:1})]),_:1},8,["open"])]),_:1}),s("div",it,[(p(!0),h(C,null,J(v.value,l=>(p(),$(a(lt),{key:l.id,class:"group bg-white border border-slate-200/70 shadow-sm hover:shadow-lg rounded-xl transition-all duration-300 hover:scale-[1.02] ring-1 ring-white/40"},{default:i(()=>[e(a(tt),{class:"pb-3"},{default:i(()=>[s("div",rt,[s("span",ct,[(p(),$(st(q[l.icon]),{class:"w-4 h-4"}))]),e(a(et),{class:"text-slate-900"},{default:i(()=>[d(o(l.hdmc),1)]),_:2},1024)])]),_:2},1024),e(a(at),{class:"space-y-3"},{default:i(()=>[s("div",ut,[e(a(y),{class:"w-4 h-4 text-blue-600"}),s("span",pt,o(l.bmsj),1)]),s("div",ht,[e(a(L),{class:"w-4 h-4 text-emerald-600"}),s("span",vt,o(l.hddd),1)]),s("div",xt,[e(a(A),{class:"w-4 h-4 text-cyan-600"}),s("span",ft,o(l.zyrs),1)]),s("div",mt,[e(g,{variant:"default",class:"group gap-2",onClick:O=>V(l.id)},{default:i(()=>[t[4]||(t[4]=s("span",null,"查看详情",-1)),e(a(S),{class:"w-4 h-4 transition-transform group-hover:translate-x-0.5"})]),_:1},8,["onClick"]),e(g,{variant:"secondary",class:"group",onClick:O=>D(l)},{default:i(()=>[...t[5]||(t[5]=[d("报名",-1)])]),_:1},8,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),e(a(Y),{open:x.value,"onUpdate:open":t[2]||(t[2]=l=>x.value=l)},{default:i(()=>[e(a(K),{class:"fixed inset-0 bg-slate-900/30 backdrop-blur-[6px]"}),e(a(Q),{class:"fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-[92vw] max-w-2xl bg-white/80 backdrop-blur-xl border border-white/40 rounded-xl shadow-2xl p-0 z-50"},{default:i(()=>[t[18]||(t[18]=s("div",{class:"h-1.5 w-full bg-gradient-to-r from-blue-600 via-cyan-500 to-emerald-500 rounded-t-xl"},null,-1)),s("div",gt,[s("span",yt,[e(a(S),{class:"w-4 h-4"})]),e(a(W),{class:"text-xl font-semibold text-slate-900"},{default:i(()=>[...t[6]||(t[6]=[d("活动详情",-1)])]),_:1})]),e(a(X),{class:"px-6 -mt-2 text-slate-600 text-sm"},{default:i(()=>{var l;return[d("编号 "+o(((l=n.value)==null?void 0:l.id)??w.value),1)]}),_:1}),f.value?(p(),h("div",_t,"加载中...")):n.value?(p(),h("div",kt,[s("div",wt,[e(a(_),{class:"w-4 h-4 text-indigo-600"}),s("div",Mt,[t[7]||(t[7]=s("span",{class:"font-medium"},"活动名称：",-1)),d(o(n.value.hdmc),1)])]),s("div",It,[e(a(y),{class:"w-4 h-4 text-blue-600"}),s("div",Ct,[t[8]||(t[8]=s("span",{class:"font-medium"},"报名时间：",-1)),d(o(n.value.bmsj),1)])]),s("div",zt,[e(a(y),{class:"w-4 h-4 text-blue-600"}),s("div",$t,[t[9]||(t[9]=s("span",{class:"font-medium"},"活动时间：",-1)),d(o(n.value.hdsj),1)])]),s("div",At,[e(a(L),{class:"w-4 h-4 text-emerald-600"}),s("div",Bt,[t[10]||(t[10]=s("span",{class:"font-medium"},"活动地点：",-1)),d(o(n.value.hddd),1)])]),s("div",St,[e(a(A),{class:"w-4 h-4 text-cyan-600"}),s("div",Lt,[t[11]||(t[11]=s("span",{class:"font-medium"},"招募人数：",-1)),d(o(n.value.zyrs),1)])]),s("div",jt,[e(a(B),{class:"w-4 h-4 text-purple-600"}),s("div",qt,[t[12]||(t[12]=s("span",{class:"font-medium"},"活动内容：",-1)),d(o(n.value.hdnr),1)])]),s("div",Ht,[e(a(j),{class:"w-4 h-4 text-rose-600"}),s("div",Pt,[t[13]||(t[13]=s("span",{class:"font-medium"},"活动需求条件：",-1)),d(o(n.value.hdxq),1)])]),s("div",Vt,[e(a(j),{class:"w-4 h-4 text-rose-600"}),s("div",Dt,[t[14]||(t[14]=s("span",{class:"font-medium"},"活动保障：",-1)),d(o(n.value.hdbz),1)])]),s("div",Ot,[e(a(dt),{class:"w-4 h-4 text-slate-700"}),s("div",Zt,[t[15]||(t[15]=s("span",{class:"font-medium"},"发起单位：",-1)),d(o(n.value.hdfqdw),1)])]),s("div",Nt,[e(a(_),{class:"w-4 h-4 text-indigo-600"}),s("div",Tt,[t[16]||(t[16]=s("span",{class:"font-medium"},"状态：",-1)),d(o(n.value.hdzt),1)])])])):(p(),h("div",bt,"未获取到详情")),s("div",Ut,[e(g,{variant:"outline",onClick:t[1]||(t[1]=l=>x.value=!1)},{default:i(()=>[...t[17]||(t[17]=[d("关闭",-1)])]),_:1})])]),_:1})]),_:1},8,["open"])],64))}},Jt=Z(Et,[["__scopeId","data-v-4f2cf83f"]]);export{Jt as default};
